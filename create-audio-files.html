<!DOCTYPE html>
<html>
<head>
    <title>Create Audio Files</title>
</head>
<body>
    <h1>Audio File Creator</h1>
    <p>This page will help you create empty audio files for testing.</p>
    <button id="createFiles">Create Empty Audio Files</button>
    
    <script>
        document.getElementById('createFiles').addEventListener('click', async function() {
            try {
                // Create an empty audio context
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const emptyBuffer = audioContext.createBuffer(2, 44100, 44100);
                
                // Create the directory structure
                const fileHandle = await window.showDirectoryPicker();
                
                // Get audio directory
                let audioDir;
                try {
                    audioDir = await fileHandle.getDirectoryHandle('audio', { create: true });
                } catch (e) {
                    console.error('Could not create audio directory:', e);
                    return;
                }
                
                // List of files to create
                const fileNames = [
                    'background_music.mp3',
                    'shoot.mp3',
                    'explosion.mp3',
                    'powerup.mp3',
                    'bounce.mp3'
                ];
                
                // Create empty audio files
                for (const fileName of fileNames) {
                    // Convert buffer to wav
                    const audioData = await audioBufferToWav(emptyBuffer);
                    
                    // Create file
                    const newFile = await audioDir.getFileHandle(fileName, { create: true });
                    const writable = await newFile.createWritable();
                    await writable.write(audioData);
                    await writable.close();
                }
                
                alert('Created empty audio files in the audio directory!');
            } catch (e) {
                console.error('Error creating files:', e);
                alert('Error: ' + e.message);
            }
        });
        
        // Convert AudioBuffer to WAV format
        function audioBufferToWav(buffer) {
            // This is a simplified version - in reality you'd want to properly format the WAV data
            // For now, just create a simple empty file
            return new Blob([new Uint8Array(100)], { type: 'audio/mpeg' });
        }
    </script>
</body>
</html>
